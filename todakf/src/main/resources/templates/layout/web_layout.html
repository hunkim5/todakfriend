<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="여성전용마사지, 토닥이, 호빠, 정빠, 여성전용바, 여성전용커뮤니티 정보를 제공하는 플랫폼 입니다. 후기와 할인정보를 토닥이친구에서 쉽고 간편하게 찾아보세요!">
  <meta name="keywords" content="여성전용마사지, 토닥이, 호빠, 정빠, 여성전용바, 여성전용커뮤니티 정보를 제공하는 플랫폼 입니다. 토닥이친구">
  <title>토닥이친구</title>
  <style>
      body {
      font-family: 'Noto Sans KR', sans-serif;
      margin: 0;
      padding: 0;
      background: #f8f9fa;
    }

    header {
      background: #343a40;
      color: white;
      padding: 0.8rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: relative;
      z-index: 2;
    }

    .logo {
      display: flex;
      align-items: center;
    }

    .logo svg {
      width: 24px;
      height: 24px;
      margin-right: 0.4rem;
      fill: white;
    }

    nav {
      display: none;
      flex-direction: column;
      background: #343a40;
      position: absolute;
      top: 56px;
      right: 0;
      width: 180px;
      padding: 0;
      border-radius: 0 0 6px 6px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      overflow: hidden;
      transition: transform 0.3s ease, opacity 0.3s ease;
      transform: translateY(-10px);
      opacity: 0;
    }

    nav.active {
      display: flex;
      transform: translateY(0);
      opacity: 1;
    }

    nav a {
      color: white;
      text-decoration: none;
      padding: 0.75rem 1rem;
      transition: background-color 0.2s;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    nav a:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    nav .submenu {
      padding: 0.5rem 1rem 0.5rem 2rem;
      font-size: 0.85rem;
      color: #adb5bd;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    nav .submenu:hover {
      background-color: rgba(255, 255, 255, 0.05);
      cursor: pointer;
    }

    .menu-toggle {
      cursor: pointer;
      display: block;
      width: 28px;
      height: 20px;
      position: relative;
    }

    .menu-toggle span {
      display: block;
      position: absolute;
      height: 2px;
      width: 100%;
      background: white;
      border-radius: 2px;
      opacity: 1;
      left: 0;
      transform: rotate(0deg);
      transition: .25s ease-in-out;
    }

    .menu-toggle span:nth-child(1) {
      top: 0px;
    }

    .menu-toggle span:nth-child(2), .menu-toggle span:nth-child(3) {
      top: 9px;
    }

    .menu-toggle span:nth-child(4) {
      top: 18px;
    }

    .menu-toggle.open span:nth-child(1) {
      top: 9px;
      width: 0%;
      left: 50%;
    }

    .menu-toggle.open span:nth-child(2) {
      transform: rotate(45deg);
    }

    .menu-toggle.open span:nth-child(3) {
      transform: rotate(-45deg);
    }

    .menu-toggle.open span:nth-child(4) {
      top: 9px;
      width: 0%;
      left: 50%;
    }

    .container {
      max-width: 1200px;
      margin: auto;
      padding: 1.5rem 1rem;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.8rem;
      border-bottom: 1px solid #eaeaea;
      padding-bottom: 0.5rem;
    }

    .section-header h2 {
      margin: 0;
      font-size: 1.2rem;
      position: relative;
    }

    .more-btn {
      display: flex;
      align-items: center;
      background: none;
      border: none;
      color: #666;
      font-size: 0.81rem;
      cursor: pointer;
      padding: 0.4rem 0.6rem;
      border-radius: 4px;
      transition: all 0.2s;
    }

    .more-btn:hover {
      background-color: rgba(0, 123, 255, 0.08);
      color: #007bff;
    }

    .more-btn svg {
      width: 16px;
      height: 16px;
      margin-left: 3px;
      transition: transform 0.2s;
    }

    .more-btn:hover svg {
      transform: translateX(2px);
    }

    .products {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.8rem;
      margin-bottom: 2rem;
    }

    .product {
      background: white;
      border-radius: 6px;
      box-shadow: 0 0 6px rgba(0, 0, 0, 0.05);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .product-img-container {
	  width: 100%;
	  height: 100px; /* 높이 늘리기 */
	  background: #f0f0f0;
	  display: flex;
	  align-items: center;
	  justify-content: center;
	}
	.product img {
	  width: 100%;
	  height: 100%;
	  object-fit: fill; /* 비율 유지하며 안 짤리게 */
	}
	/* PC 화면 (최소 너비 768px 이상) */
	@media (min-width: 768px) {
	   header {
		justify-content: center; /* 가운데 정렬 */
	  }

	  .logo {
		position: absolute;
		left: 1rem;
	  }
	  .product-img-container {
	    height: 180px; /* PC에서는 높이를 200px로 */
	  }
	  nav {
        display: flex !important;
        position: static;
        flex-direction: row;
        background: none;
        padding: 0;
        box-shadow: none;
        width: auto;
        transform: none;
        opacity: 1;
      }

      nav a {
        margin: 0 0.8rem;
        padding: 0;
        border: none;
      }

      nav a:hover {
        background: none;
        text-decoration: underline;
      }

      nav .submenu {
        display: none;
      }

      .menu-toggle {
        display: none;
      }

      .products {
        grid-template-columns: repeat(5, 1fr);
      }

	}
    .product h3 {
      font-size: 0.9rem;
      margin: 0;
      padding: 0.6rem;
    }

    .boards {
      display: flex;
      gap: 1.5rem;
    }

    .board {
      flex: 1;
      background: white;
      border-radius: 6px;
      box-shadow: 0 0 6px rgba(0, 0, 0, 0.05);
      padding: 0.8rem;
    }

    .board-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #ddd;
      padding-bottom: 0.4rem;
      margin-bottom: 0.6rem;
    }

    .board h3 {
      font-size: 1.1rem;
      font-weight: bold;
      margin: 0;
    }

    .more-link {
      display: flex;
      align-items: center;
      font-size: 0.8rem;
      color: #666;
      text-decoration: none;
      transition: color 0.2s;
    }

    .more-link:hover {
      color: #007bff;
    }

    .more-link svg {
      width: 16px;
      height: 16px;
      margin-left: 2px;
    }

    .board ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .board li {
	  display: flex;
	  flex-direction: column;
	  padding: 0.2rem 0;
	  border-bottom: 1px solid #eee;
	  font-size: 0.85rem;
	}

    .post-left {
      display: flex;
      flex-direction: column;
    }
    .post-left span:first-child {
	  font-weight: 500;
	  display: inline-block;
	  overflow: hidden;
	  white-space: nowrap;
	  text-overflow: ellipsis;
	  max-width: 300px; /* 또는 200px 등 원하는 너비 */
	}


    .post-left span:last-child {
      font-size: 0.75rem;
      color: #888;
      margin-top: 2px;
    }

    .post-right {
      text-align: right;
      font-size: 0.75rem;
      color: #888;
      white-space: nowrap;
    }

	.post-title {
	  font-weight: 500;
	  overflow: hidden;
	  white-space: nowrap;
	  text-overflow: ellipsis;
	  display: block;
	  flex: 1;
	  min-width: 0;
	  max-width: 650px; /* 또는 200px 등 원하는 너비 */
	}
	.post-meta {
	  display: flex;
	  justify-content: space-between;
	  font-size: 0.75rem;
	  color: #888;
	  margin-top: 4px;
	}

	.post-meta .author {
	  white-space: nowrap;
	}

	.post-meta .stats {
	  white-space: nowrap;
	  text-align: right;
	}
    @media (max-width: 767px) {
      .boards {
        flex-direction: column;
        gap: 1rem;
      }
      .action-buttons .btn {
	    font-size: 0.8rem;
	    padding: 0.4rem 0.6rem;
	  }

	  .action-buttons .btn i {
	    font-size: 1rem;
	  }
    }
    a.active {
	  color: #dc3545 !important; /* Bootstrap의 text-danger와 같은 색 */
	  font-weight: bold;
	}
	.pagination-sm .page-link {
  padding: 0.4rem 0.65rem;
  font-size: 0.85rem;
}

.pagination .page-link {
  color: #495057;
  border: 1px solid #dee2e6;
  margin: 0 2px;
  border-radius: 4px !important;
}

.pagination .page-link:hover {
  color: #007bff;
  background-color: #e9ecef;
  border-color: #adb5bd;
}

.pagination .page-item.active .page-link {
  background-color: #007bff;
  border-color: #007bff;
  color: white;
}

.pagination .page-item.disabled .page-link {
  color: #6c757d;
  background-color: #fff;
  border-color: #dee2e6;
}

/* 모바일에서 페이징 크기 조정 */
@media (max-width: 767px) {
  .pagination-sm .page-link {
    padding: 0.3rem 0.5rem;
    font-size: 0.8rem;
  }
}

.comment-action {
  font-size: 0.8rem;
  color: #495057;
  margin-right: 1rem;
  text-decoration: none;
  cursor: pointer;
}
.comment-action:hover {
  text-decoration: underline;
  color: #007bff;
}
.comment-delete {
  color: #dc3545;
}
.comment-delete:hover {
  text-decoration: underline;
}
.form-control::placeholder {
    color: #cccccc;  /* 옅은 회색으로 변경 */
    font-size: 0.8rem; /* 글씨 크기 더 작게 */
    font-style: italic; /* 필요에 따라 이탤릭체 적용 */
  }
  /* 탭 스타일 */
  .tab-container {
    margin-bottom: 1.5rem;
  }

  .tab-buttons {
    display: flex;
    border-bottom: 2px solid #ddd;
    margin-bottom: 1rem; /* 탭 버튼과 내용 사이 간격 추가 */
  }

  .tab-button {
    padding: 0.75rem 1.25rem; /* 패딩 조정 */
    border: none;
    background: none;
    cursor: pointer;
    font-size: 1rem;
    color: #666;
    transition: color 0.2s, border-bottom-color 0.2s, font-weight 0.2s;
    white-space: nowrap; /* 텍스트 줄바꿈 방지 */
  }

  .tab-button.active {
    color: #007bff;
    border-bottom: 2px solid #007bff;
    font-weight: bold;
  }

  .tab-content {
    /* padding-top: 1rem; 이 스타일은 tab-panel 내부에 콘텐츠가 있으므로 필요 없음 */
  }

  .tab-panel {
    display: none;
  }

  .tab-panel.active {
    display: block;
  }
  </style>
  <th:block layout:fragment="css"></th:block>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <th:block layout:fragment="script"></th:block>
</head>
<body>
  <header>
    <div class="logo">
       <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ff6b81" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-right: 0.4rem;">
	    <path d="M4.318 6.318a4.5 4.5 0 0 1 6.364 0L12 7.636l1.318-1.318a4.5 4.5 0 1 1 6.364 6.364L12 21l-7.682-8.318a4.5 4.5 0 0 1 0-6.364z"/>
	  </svg>
      <strong><a href="/index" style="color: inherit;text-decoration: none;">토닥이친구</a></strong>
    </div>
    <div class="menu-toggle" id="menuToggle" onclick="toggleMenu()">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>
    <nav id="menu">
      <a href="/web/permit/advertisement/list?advertisementGubun=message&webSearchSido=서울특별시,인천광역시,경기도">제휴업체</a>
      <a href="/web/permit/board/list?boardGubun=notice">커뮤니티</a>
      <a href="/web/permit/service/list?boardGubun=proposal">고객센터</a>
      <a href="/web/permit/recruit/list">구인</a>
      <th:block th:if="${session.loginUser?.userSeq}">
      <a href="/logout">로그아웃</a>
      </th:block>
      <th:block th:unless="${session.loginUser?.userSeq}">
      <a href="/user/login">로그인</a>
      </th:block>
    </nav>
  </header>

  <div class="container">
    <th:block layout:fragment="content"></th:block>
</div>
<script>
$(document).ready(function() {
	//페이지 로드 시 스크롤 위치 복원
	if (sessionStorage.getItem('scrollPosition')) {
	   $(window).scrollTop(sessionStorage.getItem('scrollPosition'));
	   sessionStorage.removeItem('scrollPosition'); // 사용 후 제거
	}
});
    function toggleMenu() {
      const menu = document.getElementById('menu');
      const menuToggle = document.getElementById('menuToggle');

      menuToggle.classList.toggle('open');
      menu.classList.toggle('active');

      if (window.innerWidth < 768) {
        menu.style.display = menu.classList.contains('active') ? 'flex' : 'none';
      }
    }

    // 외부 클릭 시 메뉴 닫기
    document.addEventListener('click', function (e) {
      const menu = document.getElementById('menu');
      const menuToggle = document.getElementById('menuToggle');

      if (window.innerWidth < 768 && !menu.contains(e.target) && !menuToggle.contains(e.target)) {
        menu.classList.remove('active');
        menu.style.display = 'none';
        menuToggle.classList.remove('open');
      }
    });
function replyComment(commentSeq,val){
	let replyBox = $(val).closest('#commentList').find('.reply-box');
	if(replyBox.length == 0){
		$("#parentSeq").val(commentSeq);
		const replyHtml = `
		    <div class="reply-box mt-2">
		      <textarea class="form-control mb-2" rows="2" placeholder="답글을 입력하세요..." id="commentReplyContent"></textarea>
		      <div class="d-flex justify-content-end">
		        <button class="btn btn-sm btn-primary me-2" onclick="commentReply()">등록</button>
		        <button class="btn btn-sm btn-outline-secondary" onclick="replyComment(this);">취소</button>
		      </div>
		    </div>
		  `;
		  $(val).closest('div').append(replyHtml);
	}else{
		replyBox.remove();
	}
}
function commentReply() {
	// 폼 제출 전에 현재 스크롤 위치 저장
    sessionStorage.setItem('scrollPosition', $(window).scrollTop());

	let formData = $("#dataForm").serialize();
	formData += "&content="+$("#commentReplyContent").val();
	$.ajax({
        url: "/web/insertBoardComment",
        data : formData,
        type: "POST",
        success: function(res) {
			location.reload();
        },
        error: function(response) {
        }
    });
}
</script>
</body>
</html>