<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.todak.todakf.common.mapper.CommonMapper">
    <select id="selectSido">
    	SELECT
    		sido
    	FROM location
    	group by sido
    </select>
    <select id="selectSigungu">
    	SELECT
    		sigungu
    	FROM location
    	WHERE sido = #{sido}
    </select>

    <select id="selectPartner">
    	SELECT
    		partner_seq
    		,concat(ceo_name,'(',partner_name,')') as partner_name
    	FROM partner
    </select>
    <select id="selectFileList">
        SELECT f.*
        FROM file_mng f
        WHERE file_group_uuid=#{fileGroupUuid}
    </select>
    <insert id="insertFileMng">
	INSERT INTO file_mng
	(
	file_group_uuid,
	file_path,
	org_file_name,
	img_path
	)
	VALUES(
		#{uuid},
		#{filePath},
		#{orgFileName},
		#{imgPath}
	)
    </insert>
    <delete id="deleteFileMng">
	DELETE FROM file_mng
	WHERE file_group_uuid= #{fileGroupUuid}
    </delete>
    <insert id="insertVisitReport">
		INSERT INTO visit_report
		(
		url,
		param,
		ip
		)
		VALUES(
			#{url},
			#{param},
			#{ip}
		)
    </insert>
</mapper>
